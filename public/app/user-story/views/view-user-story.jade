.container(ng-show="project")
    legend.colour4
        span.pull-right {{project.code}}-{{feature.code}}-{{userStory.code}}
        h1 User Story
        h2
            span
                a(ng-href="/p/{{project.code}}") {{project.name}}
            span.padr :
            span
                a(ng-href="/p/{{project.code}}/f/{{feature.code}}") {{feature.name}}
            span.padr :
            span User Story {{userStory.code}}
    nav.table
        .col-md-2.column1.padn
            a.box.btn.btn-block.column1(ng-href="/p/{{project.code}}")
                span.glyphicon.glyphicon-th-list.padr(aria-label="List icon")
                span.small Project
        .col-md-2.column1.padn
            a.box.btn.btn-block.column1(ng-href="/p/{{project.code}}/r")
                span.glyphicon.glyphicon-gift.padr(aria-label="Gift icon")
                span.small Releases
        .col-md-2.column1.padn
            a.box.btn.btn-block.column1(ng-href="/p/{{project.code}}/f/{{feature.code}}")
                span.glyphicon.glyphicon-apple.padr(aria-label="Apple icon")
                span.small Feature
        .col-md-2.colour4.padn
            a.box.btn.btn-block.colour4(ng-href="/p/{{project.code}}/f/{{feature.code}}/u")
                span.glyphicon.glyphicon-tree-deciduous.padr(aria-label="Tree icon")
                span.small User Stories
        .col-md-2.column1.padn
            a.box.btn.btn-block.column1(ng-href="/p/{{project.code}}/f/{{feature.code}}/a")
                span.glyphicon.glyphicon-grain.padr(aria-label="Branch icon")
                span.small Acceptance Tests
        .col-md-2.column1.padn
            a.box.btn.btn-block.column1(ng-href="/p/{{project.code}}/f/{{feature.code}}/s")
                span.glyphicon.glyphicon-leaf.padr(aria-label="Leaf icon")
                span.small System Tests
    .well
        div(ng-show="!edit.asA")
            a.edit(ng-click="showEdit('asA', true)" ng-mouseleave="hover.asA = false" ng-mouseover="hover.asA = true")
                span(ng-show="userStory.asA") As a{{userStory.asA ? (['a', 'e', 'i', 'o', 'u'].indexOf(userStory.asA.toLowerCase()[0]) !== -1 ? 'n' : '') : ''}} {{userStory.asA}}
                span.glyphicon.glyphicon-pencil.small(ng-show="hover.asA")
        div(ng-show="edit.asA")
            form(name="asAForm")
                span As a{{userStory.asA ? (['a', 'e', 'i', 'o', 'u'].indexOf(userStory.asA.toLowerCase()[0]) !== -1 ? 'n' : '') : ''}}
                textarea.form-control(name="userStory.asA" ng-model="userStory.asA" type="text" placeholder="As a")
                button.btn.btn-success(ng-click="submitEdit('asA')", ng-disabled="asAForm.$invalid")
                    span.glyphicon.glyphicon-ok
                a.btn.btn-default(ng-click="cancelEdit('asA')")
                    span.glyphicon.glyphicon-remove
        div(ng-show="!edit.iCan")
            a.edit(ng-click="showEdit('iCan', true)" ng-mouseleave="hover.iCan = false" ng-mouseover="hover.iCan = true")
                span(ng-show="userStory.iCan") I can {{userStory.iCan}}
                span.glyphicon.glyphicon-pencil.small(ng-show="hover.iCan")
        div(ng-show="edit.iCan")
            form(name="iCanForm")
                span I can
                textarea.form-control(name="userStory.iCan" ng-model="userStory.iCan" type="text" placeholder="I can")
                button.btn.btn-success(ng-click="submitEdit('iCan')", ng-disabled="iCanForm.$invalid")
                    span.glyphicon.glyphicon-ok
                a.btn.btn-default(ng-click="cancelEdit('iCan')")
                    span.glyphicon.glyphicon-remove
        div(ng-show="!edit.soThat")
            a.edit(ng-click="showEdit('soThat', true)" ng-mouseleave="hover.soThat = false" ng-mouseover="hover.soThat = true")
                span(ng-show="userStory.soThat") So that {{userStory.soThat}}
                span.glyphicon.glyphicon-pencil.small(ng-show="hover.soThat")
        div(ng-show="edit.soThat")
            form(name="soThatForm")
                span So that
                textarea.form-control(name="userStory.soThat" ng-model="userStory.soThat" type="text" placeholder="So that")
                button.btn.btn-success(ng-click="submitEdit('soThat')", ng-disabled="soThatForm.$invalid")
                    span.glyphicon.glyphicon-ok
                a.btn.btn-default(ng-click="cancelEdit('soThat')")
                    span.glyphicon.glyphicon-remove